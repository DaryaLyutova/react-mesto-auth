{"version":3,"sources":["images/logo/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","components/SubmitPopup.js","mestoAuth.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","images/popup/Union.svg","images/popup/Union (1).svg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","React","useState","title","link","headerLink","setHeaderLink","location","useLocation","useEffect","pathname","className","src","headerLogo","alt","email","to","onClick","signOut","CurrentUserContext","createContext","Card","card","onCardClick","onImageClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","name","type","length","Main","cards","avatar","onEditAvatar","onEditProfile","about","onAddPlace","map","Footer","PopupWithForm","isOpen","onSubmit","onClose","children","buttonTitle","EditProfilePopup","setName","description","setDescription","fieldsetInfo","placeholder","id","minLength","maxLength","onChange","e","target","value","required","preventDefault","onUpdateUser","EditAvatarPopup","avatarRef","useRef","fieldsetAvatar","ref","onUpdateAvatar","current","AddPlacePopup","nameRef","linkRef","fieldsetAddCard","ImagePopup","api","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","Error","status","fetch","method","then","_showErrow","data","body","JSON","stringify","like","authorization","SubmitPopup","BASE_URL","Login","setEmail","password","setPassword","setMassege","history","useHistory","token","localStorage","setItem","catch","err","console","log","mestoAuth","onLogin","push","Register","response","onSubmiteClick","onInfoTooltip","ProtectedRoute","Component","component","loggedIn","InfoTooItip","image","subtitle","App","setLoggedIn","userEmail","setUserEmail","handeleLogin","getItem","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","isCardOpen","setIsCardOpen","isSubmitPopupOpen","setIsSubmitPopupOpen","isInfoTooltip","setIsInfoTooltip","setCurrentUser","setCards","cardforDelete","setCardForDelete","errorImage","tooltip","setTooltip","closeAllPopups","all","getUserInfo","getInitialCards","values","userData","initialCards","item","alert","Provider","removeItem","path","okImage","exact","changeLikeCardStatus","newCard","newCards","c","setUserInfo","dataInfo","makeNewCard","deleteCard","deleteId","filter","sethUserAvatar","dataAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3990bade.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import React from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport headerLogo from '../images/logo/logo.svg';\r\n\r\nfunction Header(props) {\r\n  //ссылка в header\r\n  const [headerLink, setHeaderLink] = React.useState({\r\n    title: 'Загеристрироваться',\r\n    link: 'sign-up'\r\n  });\r\n\r\n  const location = useLocation();\r\n\r\n  function handelHeaderTitle() {\r\n    if (location.pathname === '/sign-in') {\r\n      setHeaderLink({\r\n        title: 'Загеристрироваться',\r\n        link: 'sign-up'\r\n      });\r\n    } else {\r\n      if (location.pathname === '/sign-up') {\r\n        setHeaderLink({\r\n          title: 'Войти',\r\n          link: 'sign-in'\r\n        });\r\n      } else {\r\n        setHeaderLink({\r\n          title: 'Выйти',\r\n          link: 'sign-in'\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    handelHeaderTitle();\r\n  }, [headerLink])\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={headerLogo} alt=\"логотип\" className=\"logo\" />\r\n      <div className=\"header__info\">\r\n        <p className=\"header__email\">{props.email}</p>\r\n        <Link\r\n          to={headerLink.link}\r\n          className=\"header__link\"\r\n          onClick={headerLink.title === 'Выйти' ? props.signOut : ''}\r\n        >{headerLink.title}</Link>\r\n      </div>\r\n\r\n    </header>\r\n  )\r\n}\r\nexport default Header;","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, onCardClick, onImageClick, onCardLike, onCardDelete }) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    // Определяем, являемся ли мы владельцем текущей карточки\r\n    const isOwn = card.owner._id === currentUser._id;\r\n\r\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n        onImageClick();\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        onCardLike(card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        // onDeleteClick(card)\r\n        onCardDelete(card);\r\n    }\r\n\r\n    return (\r\n        <div className=\"place__container\">\r\n            <img alt={`изображение ${card.name}`} src={card.link}\r\n                className=\"place__image\" onClick={handleClick} />\r\n            <button\r\n                type=\"button\"\r\n                className={`place__delete ${isOwn ? 'place__delete_visible' : ''}`}\r\n                onClick={handleDeleteClick} />\r\n            <div className=\"place__group\">\r\n                <h2 className=\"place__title\">{card.name}</h2>\r\n                <form className=\"place__like-container\">\r\n                    <button\r\n                        type=\"button\"\r\n                        className={`place__like ${isLiked ? 'place__like_active' : ''}`}\r\n                        onClick={handleLikeClick} />\r\n                    <p className=\"place__like-counter\">{card.likes.length}</p>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Main({ cards, ...props }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <img src={currentUser.avatar} type=\"button\" alt=\"Фото пользователя\" className=\"avatar\" />\r\n        <div className=\"avatar avatar__hover\" onClick={props.onEditAvatar}></div>\r\n        <div className=\"profile-info\">\r\n          <div className=\"profile-info__container\">\r\n            <h1 className=\"profile-info__name\">{currentUser.name}</h1>\r\n            <button type=\"button\" className=\"edit-button\" onClick={props.onEditProfile} />\r\n          </div>\r\n          <p className=\"profile-info__activity\">{currentUser.about}</p>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace} />\r\n      </section>\r\n      <section className=\"places\">{\r\n        cards.map((card) =>\r\n          <Card\r\n            key={card._id}\r\n            cards={props.cards}\r\n            card={card}\r\n            onCardLike={props.onCardLike}\r\n            onCardDelete={props.onCardDelete}\r\n            onCardClick={props.onCardClick}\r\n            onImageClick={props.onImageClick} />)\r\n      }\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&#169; 2020 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n    return (\r\n        <form className={`popup popup__${props.name} ${props.isOpen ? 'popup_opened' : ''}`}\r\n            name={props.name} onSubmit={props.onSubmit}>\r\n            <div className=\"popup__container\">\r\n                <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}></button>\r\n                <h2 className=\"popup__title\">{props.title}</h2>\r\n                <fieldset className=\"popup__profile\">\r\n                    {props.children}\r\n                </fieldset>\r\n                <button type=\"submit\" className=\"popup__button\">{props.buttonTitle}</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangedescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n\r\n        // Передаём значения управляемых компонентов во внешний обработчик\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    const fieldsetInfo =\r\n        <>\r\n            <input type=\"text\"\r\n                placeholder=\"Имя\"\r\n                className=\"popup__input popup__input_name\"\r\n                id=\"name-input\"\r\n                name=\"name\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                onChange={handleChangeName}\r\n                value={name}\r\n                required />\r\n            <span className=\"popup__error\" id=\"name-input-error\"></span>\r\n            <input type=\"text\"\r\n                placeholder=\"О себе\"\r\n                className=\"popup__input popup__input_activity\"\r\n                id=\"activity-input\"\r\n                name=\"about\"\r\n                minLength=\"2\"\r\n                maxLength=\"200\"\r\n                onChange={handleChangedescription}\r\n                value={description}\r\n                required />\r\n            <span className=\"popup__error\" id=\"activity-input-error\"></span>\r\n        </>\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"info\"\r\n            title=\"Редактировать профиль\"\r\n            buttonTitle=\"Сохранить\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}>\r\n            {fieldsetInfo}\r\n        </PopupWithForm>)\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const avatarRef = React.useRef('');\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value,\r\n        });\r\n    }\r\n\r\n    const fieldsetAvatar =\r\n        <>\r\n            <input type=\"url\"\r\n                placeholder=\"Ссылка на аватар\"\r\n                className=\"popup__input popup__input_avatar-link\"\r\n                id=\"avatar-input\"\r\n                name=\"avatar\"\r\n                ref={avatarRef}\r\n                required />\r\n            <span className=\"popup__error\" id=\"avatar-input-error\"></span>\r\n        </>\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"avatar\"\r\n            title=\"Обновить аватар\"\r\n            buttonTitle=\"Сохранить\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            onUpdateAvatar={props.onUpdateAvatar}\r\n        >{fieldsetAvatar}</PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const nameRef = React.useRef('');\r\n  const linkRef = React.useRef('');\r\n\r\n  function handleAddPlaceSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      name: nameRef.current.value,\r\n      link: linkRef.current.value\r\n    })\r\n  }\r\n\r\n  const fieldsetAddCard =\r\n    <>\r\n      <input type=\"text\"\r\n        placeholder=\"Название\"\r\n        className=\"popup__input popup__input_placename\"\r\n        id=\"placename-input\"\r\n        name=\"name\"\r\n        minLength=\"1\"\r\n        maxLength=\"30\"\r\n        ref={nameRef}\r\n        required />\r\n      <span className=\"popup__error\" id=\"placename-input-error\"></span>\r\n      <input type=\"url\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        className=\"popup__input popup__input_link\"\r\n        id=\"email-input\"\r\n        name=\"link\"\r\n        ref={linkRef}\r\n        required />\r\n      <span className=\"popup__error\" id=\"email-input-error\"></span>\r\n    </>\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-card\"\r\n      title=\"Новое место\"\r\n      buttonTitle=\"Сохранить\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleAddPlaceSubmit}\r\n      onAddPlace={props.onAddPlace}>\r\n      {fieldsetAddCard}\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_photo ${props.isOpen ? 'popup_opened' : ''}`}>\r\n      <figure className=\"popup__photo-container\">\r\n        <button type=\"button\" className=\"popup__close-button popup__close-button_photo\" onClick={props.onClose} />\r\n        <div>\r\n          <img alt={props.isOpen ? props.card.name : ''} src={props.isOpen ? props.card.link : ''} className=\"popup__image\" />\r\n          <figcaption className=\"popup__title-photo\">{props.isOpen ? props.card.name : ''}</figcaption>\r\n        </div>\r\n      </figure>\r\n    </div>\r\n  )\r\n}\r\nexport default ImagePopup;","class Api {\r\n  constructor(options) {\r\n    this._url = options.url;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _showErrow(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    // если ошибка, отклоняем промис\r\n    Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    }).then((res) => this._showErrow(res));\r\n  }\r\n\r\n  setUserInfo(data) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then((res) => this._showErrow(res));\r\n  }\r\n\r\n  sethUserAvatar(data) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then((res) => this._showErrow(res));\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    }).then((res) => this._showErrow(res));\r\n  }\r\n\r\n  makeNewCard(data) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then((res) => this._showErrow(res));\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._url}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then((res) => this._showErrow(res));\r\n  }\r\n\r\n  changeLikeCardStatus(id, like) {\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: like ? 'DELETE' : 'PUT',\r\n      headers: this._headers,\r\n    }).then((res) => this._showErrow(res));\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-16',\r\n  headers: {\r\n    authorization: 'db246294-1b1a-41e2-ab61-b5ce8b44318f',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default api;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n// import { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction SubmitPopup(props) {\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onCardDelete(props.card);;\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"submit\"\r\n            title=\"Вы уверены?\"\r\n            buttonTitle=\"Да\"\r\n            onClose={props.onClose}\r\n            isOpen={props.isOpen}\r\n            onSubmit={handleSubmit}\r\n            onCardDelete={props.onCardDelete}>\r\n            {''}\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default SubmitPopup;","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\n// запрос на регистрацию пользователя\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n    .then((response) => {\r\n      try {\r\n        if (response.status === 201) {\r\n          return response.json();\r\n        }\r\n      } catch (e) {\r\n        return (e)\r\n      }\r\n    })\r\n    .then((res) => {\r\n      return res;\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n// запрос на авторизацию пользователя\r\nexport const avthorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n    .then((res) => { return res.json() })\r\n    .then((data) => {\r\n      if (data.token) {\r\n        // сохранение токена в localStorage\r\n        localStorage.setItem('token', data.token);\r\n        return data;\r\n      } else {\r\n        return;\r\n      }\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n// запрос на поллучение токена \r\nexport const getToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\": `Bearer ${token}`\r\n    }\r\n  })\r\n    .then((res) => { return res.json() })\r\n    .then(data => data)\r\n    .catch((err) => console.log(err));\r\n}\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport * as mestoAuth from '../mestoAuth.js';\r\n\r\nfunction Login(props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n  const [message, setMassege] = React.useState('');\r\n\r\n  function handelEmailChange(e) {\r\n    setEmail(e.target.value)\r\n  };\r\n\r\n  function handelPassword(e) {\r\n    setPassword(e.target.value)\r\n  };\r\n\r\n  function resetForm() {\r\n    setEmail('');\r\n    setPassword('');\r\n    setMassege('');\r\n  }\r\n\r\n  const history = useHistory();\r\n\r\n  function handelSubmit(e) {\r\n    e.preventDefault();\r\n    if (!email || !password) {\r\n      return;\r\n    }\r\n    mestoAuth.avthorize(email, password).then((data) => {\r\n      if (data.token) {\r\n        resetForm();\r\n        props.onLogin();\r\n        history.push('/');\r\n      } else {\r\n        setMassege('Что-то пошло не так!')\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"sign\">\r\n      <h1 className=\"sign__title\">Вход</h1>\r\n      <form className=\"sign__form\" onSubmit={handelSubmit}>\r\n        <input className=\"sign__input\" placeholder=\"Email\" type=\"email\" name=\"email\"\r\n          onChange={handelEmailChange}\r\n          value={email}\r\n          required />\r\n        <input className=\"sign__input\" placeholder=\"Пароль\" type=\"password\"\r\n          name=\"password\"\r\n          onChange={handelPassword}\r\n          value={password}\r\n          required />\r\n        <button type=\"submit\" className=\"sign__button\">Войти</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\nexport default Login;","import React from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport * as mestoAuth from '../mestoAuth.js';\r\n\r\nfunction Register(props) {\r\n\r\n  const history = useHistory();\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handelEmailChange(e) {\r\n    setEmail(e.target.value)\r\n  };\r\n\r\n  function handelPassword(e) {\r\n    setPassword(e.target.value)\r\n  };\r\n\r\n  function resetForm() {\r\n    setEmail('');\r\n    setPassword('');\r\n  }\r\n\r\n  function handelSubmit(e) {\r\n    e.preventDefault();\r\n    mestoAuth.register(email, password).then((data) => {\r\n      if (data) {\r\n        resetForm();\r\n        props.onSubmiteClick();\r\n        history.push('/');\r\n        props.onInfoTooltip();\r\n      } else {\r\n        props.onSubmiteClick();\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"sign\">\r\n      <h1 className=\"sign__title\">Регистрация</h1>\r\n      <form className=\"sign__form\" onSubmit={handelSubmit}>\r\n        <input placeholder=\"Email\" className=\"sign__input\" type=\"email\"\r\n          name=\"email\"\r\n          onChange={handelEmailChange}\r\n          value={email}\r\n          required />\r\n        <input placeholder=\"Пароль\" className=\"sign__input\" type=\"password\"\r\n          name=\"password\"\r\n          onChange={handelPassword}\r\n          value={password}\r\n          required />\r\n        <button type=\"submit\"\r\n          className=\"sign__button\">Зарегистрироваться</button>\r\n        <div className=\"sign__link-block\">\r\n          <p className=\"sign__subtitle\">Уже зарегистрированы?</p>\r\n          <Link to=\"sign-in\" className=\"sign__link\">Войти</Link>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\nexport default Register;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n      }\r\n    </Route>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute; ","import React from 'react';\r\n\r\nfunction InfoTooItip(props) {\r\n    return (\r\n        <div className={`popup popup__tooltip ${props.isOpen ? 'popup_opened' : ''}`} >\r\n            <div className=\"popup__container\">\r\n                <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose} />\r\n                <img src={props.image} className=\"popup__info-image\" alt=\"Знак подсказки\" />\r\n                <h2 className=\"popup__subtitle\">{props.subtitle}</h2>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default InfoTooItip;","export default __webpack_public_path__ + \"static/media/Union.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/Union (1).df8eddf6.svg\";","import React from 'react';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport api from '../utils/Api';\r\nimport SubmitPopup from './SubmitPopup';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport * as mestoAuth from '../mestoAuth.js';\r\nimport InfoTooItip from \"./InfoTooltip\";\r\nimport okImage from '../images/popup/Union.svg';\r\nimport errorImage from '../images/popup/Union (1).svg';\r\n\r\nfunction App() {\r\n\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [userEmail, setUserEmail] = React.useState('');\r\n\r\n  const history = useHistory();\r\n  //проверка токена и данные email \r\n  function handeleLogin() {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      mestoAuth.getToken(token)\r\n        .then((data) => {\r\n          if (data) {\r\n            setLoggedIn(true);\r\n            setUserEmail(data.data.email)\r\n            history.push('/');\r\n          }\r\n        })\r\n    }\r\n  }\r\n  //сохранение токена для повторного входа\r\n  React.useEffect(() => {\r\n    handeleLogin();\r\n  }, [loggedIn]);\r\n\r\n  //удаление токена при выходе\r\n  function signOut() {\r\n    localStorage.removeItem('token');\r\n    setUserEmail('');\r\n    history.push('/login');\r\n  }\r\n\r\n  //стэйты состояния попапов (открыт/закрыт)\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [isCardOpen, setIsCardOpen] = React.useState(false);\r\n  const [isSubmitPopupOpen, setIsSubmitPopupOpen] = React.useState(false);\r\n  const [isInfoTooltip, setIsInfoTooltip] = React.useState(false);\r\n\r\n  //данные пользователя\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  //данные карточек\r\n  const [cards, setCards] = React.useState([]);\r\n  //стэйт карточки для удаления\r\n  const [cardforDelete, setCardForDelete] = React.useState({});\r\n  //данные для попапа регистрации\r\n  const [tooltip, setTooltip] = React.useState({\r\n    image: errorImage,\r\n    subtitle: 'Что-то пошло не так! Попробуйте ещё раз.',\r\n  });\r\n\r\n  function handleInfoTooltip() {\r\n    setTooltip({\r\n      image: okImage,\r\n      subtitle: 'Вы успешно зарегистрировались!',\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getInitialCards()]).then((values) => {\r\n      const [userData, initialCards] = values;\r\n      return [userData, initialCards]\r\n    }).then(([userData, initialCards]) => {\r\n      setCurrentUser(userData);\r\n      setCards(\r\n        initialCards.map((item) => ({\r\n          _id: item._id,\r\n          name: item.name,\r\n          link: item.link,\r\n          likes: item.likes,\r\n          owner: item.owner\r\n        })))\r\n    }).catch((err) => {\r\n      alert(err);\r\n    })\r\n  }, []);\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\r\n  }\r\n\r\n  function handleCardClick() {\r\n    setIsCardOpen(!isCardOpen);\r\n  }\r\n\r\n  function handlesumite() {\r\n    setIsInfoTooltip(!isInfoTooltip);\r\n  }\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsCardOpen(false);\r\n    setIsSubmitPopupOpen(false);\r\n    setIsInfoTooltip(false);\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    api.setUserInfo(data).then((dataInfo) => {\r\n      setCurrentUser(dataInfo);\r\n      closeAllPopups();\r\n    }).catch((err) => {\r\n      alert(err);\r\n    })\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api.sethUserAvatar(data).then((dataAvatar) => {\r\n      setCurrentUser(dataAvatar);\r\n      closeAllPopups();\r\n    }).catch((err) => {\r\n      alert(err);\r\n    })\r\n  }\r\n\r\n  function handeleAddPlace(data) {\r\n    api.makeNewCard(data).then((newCard) => {\r\n      // Обновляем стейт\r\n      setCards([newCard, ...cards]);\r\n      closeAllPopups();\r\n    }).catch((err) => {\r\n      alert(err);\r\n    });\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api.changeLikeCardStatus(card._id, isLiked).then((newCard) => {\r\n      // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n      // Обновляем стейт\r\n      setCards(newCards);\r\n    }).catch((err) => {\r\n      alert(err);\r\n    });\r\n  }\r\n  function handeleDeleteClick(card) {\r\n    setIsSubmitPopupOpen(!isSubmitPopupOpen);\r\n    setCardForDelete(card);\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id).then(() => {\r\n      const deleteId = card._id;\r\n      // // Формируем новый массив на основе имеющегося, удаляя из него карточку\r\n      const newCards = cards.filter((card) => card._id !== deleteId);\r\n      // // Обновляем стейт\r\n      setCards(newCards);\r\n      closeAllPopups();\r\n    }).catch((err) => {\r\n      alert(err);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"App\">\r\n        <div className=\"page\">\r\n          <Header email={userEmail} signOut={signOut} />\r\n          <Switch>\r\n            <Route path=\"/sign-up\">\r\n              <Register\r\n                onSubmiteClick={handlesumite}\r\n                onInfoTooltip={handleInfoTooltip} />\r\n            </Route>\r\n            <Route path=\"/sign-in\" >\r\n              <Login onLogin={handeleLogin} />\r\n            </Route>\r\n            <ProtectedRoute exact path=\"/\" loggedIn={loggedIn} component={Main}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onEditProfile={handleEditProfileClick}\r\n              onCardClick={setSelectedCard}\r\n              onImageClick={handleCardClick}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handeleDeleteClick}\r\n              cards={cards}\r\n            />\r\n            <Route>\r\n              {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\r\n            </Route>\r\n          </Switch>\r\n          <Footer />\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser} />\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handeleAddPlace} />\r\n          <SubmitPopup\r\n            isOpen={isSubmitPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onCardDelete={handleCardDelete}\r\n            card={cardforDelete} />\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} isOpen={isCardOpen} />\r\n          < InfoTooItip\r\n            image={tooltip.image}\r\n            subtitle={tooltip.subtitle}\r\n            isOpen={isInfoTooltip}\r\n            onClose={closeAllPopups} />\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter> \r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}